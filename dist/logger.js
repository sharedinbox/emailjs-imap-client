"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createDefaultLogger;
var _common = require("./common");
let SESSIONCOUNTER = 0;
function createDefaultLogger(username, hostname) {
  const session = ++SESSIONCOUNTER;
  const log = (level, messages) => {
    messages = messages.map(msg => typeof msg === 'function' ? msg() : msg);
    const date = new Date().toISOString();
    const logMessage = `[${date}][${session}][${username}][${hostname}] ${messages.join(' ')}`;
    if (level === _common.LOG_LEVEL_DEBUG) {
      console.log('[DEBUG]' + logMessage);
    } else if (level === _common.LOG_LEVEL_INFO) {
      console.info('[INFO]' + logMessage);
    } else if (level === _common.LOG_LEVEL_WARN) {
      console.warn('[WARN]' + logMessage);
    } else if (level === _common.LOG_LEVEL_ERROR) {
      console.error('[ERROR]' + logMessage);
    }
  };
  return {
    debug: msgs => log(_common.LOG_LEVEL_DEBUG, msgs),
    info: msgs => log(_common.LOG_LEVEL_INFO, msgs),
    warn: msgs => log(_common.LOG_LEVEL_WARN, msgs),
    error: msgs => log(_common.LOG_LEVEL_ERROR, msgs)
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTRVNTSU9OQ09VTlRFUiIsImNyZWF0ZURlZmF1bHRMb2dnZXIiLCJ1c2VybmFtZSIsImhvc3RuYW1lIiwic2Vzc2lvbiIsImxvZyIsImxldmVsIiwibWVzc2FnZXMiLCJtYXAiLCJtc2ciLCJkYXRlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibG9nTWVzc2FnZSIsImpvaW4iLCJMT0dfTEVWRUxfREVCVUciLCJjb25zb2xlIiwiTE9HX0xFVkVMX0lORk8iLCJpbmZvIiwiTE9HX0xFVkVMX1dBUk4iLCJ3YXJuIiwiTE9HX0xFVkVMX0VSUk9SIiwiZXJyb3IiLCJkZWJ1ZyIsIm1zZ3MiXSwic291cmNlcyI6WyIuLi9zcmMvbG9nZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIExPR19MRVZFTF9FUlJPUixcbiAgTE9HX0xFVkVMX1dBUk4sXG4gIExPR19MRVZFTF9JTkZPLFxuICBMT0dfTEVWRUxfREVCVUdcbn0gZnJvbSAnLi9jb21tb24nXG5cbmxldCBTRVNTSU9OQ09VTlRFUiA9IDBcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlRGVmYXVsdExvZ2dlciAodXNlcm5hbWUsIGhvc3RuYW1lKSB7XG4gIGNvbnN0IHNlc3Npb24gPSArK1NFU1NJT05DT1VOVEVSXG4gIGNvbnN0IGxvZyA9IChsZXZlbCwgbWVzc2FnZXMpID0+IHtcbiAgICBtZXNzYWdlcyA9IG1lc3NhZ2VzLm1hcChtc2cgPT4gdHlwZW9mIG1zZyA9PT0gJ2Z1bmN0aW9uJyA/IG1zZygpIDogbXNnKVxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICBjb25zdCBsb2dNZXNzYWdlID0gYFske2RhdGV9XVske3Nlc3Npb259XVske3VzZXJuYW1lfV1bJHtob3N0bmFtZX1dICR7bWVzc2FnZXMuam9pbignICcpfWBcbiAgICBpZiAobGV2ZWwgPT09IExPR19MRVZFTF9ERUJVRykge1xuICAgICAgY29uc29sZS5sb2coJ1tERUJVR10nICsgbG9nTWVzc2FnZSlcbiAgICB9IGVsc2UgaWYgKGxldmVsID09PSBMT0dfTEVWRUxfSU5GTykge1xuICAgICAgY29uc29sZS5pbmZvKCdbSU5GT10nICsgbG9nTWVzc2FnZSlcbiAgICB9IGVsc2UgaWYgKGxldmVsID09PSBMT0dfTEVWRUxfV0FSTikge1xuICAgICAgY29uc29sZS53YXJuKCdbV0FSTl0nICsgbG9nTWVzc2FnZSlcbiAgICB9IGVsc2UgaWYgKGxldmVsID09PSBMT0dfTEVWRUxfRVJST1IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tFUlJPUl0nICsgbG9nTWVzc2FnZSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRlYnVnOiBtc2dzID0+IGxvZyhMT0dfTEVWRUxfREVCVUcsIG1zZ3MpLFxuICAgIGluZm86IG1zZ3MgPT4gbG9nKExPR19MRVZFTF9JTkZPLCBtc2dzKSxcbiAgICB3YXJuOiBtc2dzID0+IGxvZyhMT0dfTEVWRUxfV0FSTiwgbXNncyksXG4gICAgZXJyb3I6IG1zZ3MgPT4gbG9nKExPR19MRVZFTF9FUlJPUiwgbXNncylcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQU9BLElBQUlBLGNBQWMsR0FBRyxDQUFDO0FBRVAsU0FBU0MsbUJBQW1CLENBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFO0VBQy9ELE1BQU1DLE9BQU8sR0FBRyxFQUFFSixjQUFjO0VBQ2hDLE1BQU1LLEdBQUcsR0FBRyxDQUFDQyxLQUFLLEVBQUVDLFFBQVEsS0FBSztJQUMvQkEsUUFBUSxHQUFHQSxRQUFRLENBQUNDLEdBQUcsQ0FBQ0MsR0FBRyxJQUFJLE9BQU9BLEdBQUcsS0FBSyxVQUFVLEdBQUdBLEdBQUcsRUFBRSxHQUFHQSxHQUFHLENBQUM7SUFDdkUsTUFBTUMsSUFBSSxHQUFHLElBQUlDLElBQUksRUFBRSxDQUFDQyxXQUFXLEVBQUU7SUFDckMsTUFBTUMsVUFBVSxHQUFJLElBQUdILElBQUssS0FBSU4sT0FBUSxLQUFJRixRQUFTLEtBQUlDLFFBQVMsS0FBSUksUUFBUSxDQUFDTyxJQUFJLENBQUMsR0FBRyxDQUFFLEVBQUM7SUFDMUYsSUFBSVIsS0FBSyxLQUFLUyx1QkFBZSxFQUFFO01BQzdCQyxPQUFPLENBQUNYLEdBQUcsQ0FBQyxTQUFTLEdBQUdRLFVBQVUsQ0FBQztJQUNyQyxDQUFDLE1BQU0sSUFBSVAsS0FBSyxLQUFLVyxzQkFBYyxFQUFFO01BQ25DRCxPQUFPLENBQUNFLElBQUksQ0FBQyxRQUFRLEdBQUdMLFVBQVUsQ0FBQztJQUNyQyxDQUFDLE1BQU0sSUFBSVAsS0FBSyxLQUFLYSxzQkFBYyxFQUFFO01BQ25DSCxPQUFPLENBQUNJLElBQUksQ0FBQyxRQUFRLEdBQUdQLFVBQVUsQ0FBQztJQUNyQyxDQUFDLE1BQU0sSUFBSVAsS0FBSyxLQUFLZSx1QkFBZSxFQUFFO01BQ3BDTCxPQUFPLENBQUNNLEtBQUssQ0FBQyxTQUFTLEdBQUdULFVBQVUsQ0FBQztJQUN2QztFQUNGLENBQUM7RUFFRCxPQUFPO0lBQ0xVLEtBQUssRUFBRUMsSUFBSSxJQUFJbkIsR0FBRyxDQUFDVSx1QkFBZSxFQUFFUyxJQUFJLENBQUM7SUFDekNOLElBQUksRUFBRU0sSUFBSSxJQUFJbkIsR0FBRyxDQUFDWSxzQkFBYyxFQUFFTyxJQUFJLENBQUM7SUFDdkNKLElBQUksRUFBRUksSUFBSSxJQUFJbkIsR0FBRyxDQUFDYyxzQkFBYyxFQUFFSyxJQUFJLENBQUM7SUFDdkNGLEtBQUssRUFBRUUsSUFBSSxJQUFJbkIsR0FBRyxDQUFDZ0IsdUJBQWUsRUFBRUcsSUFBSTtFQUMxQyxDQUFDO0FBQ0gifQ==