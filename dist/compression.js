"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = Compressor;
var _zstream = _interopRequireDefault(require("pako/lib/zlib/zstream"));
var _deflate = require("pako/lib/zlib/deflate");
var _inflate = require("pako/lib/zlib/inflate");
var _messages = _interopRequireDefault(require("pako/lib/zlib/messages.js"));
var _constants = require("pako/lib/zlib/constants");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const CHUNK_SIZE = 16384;
const WINDOW_BITS = 15;

/**
 * Handles de-/compression via #inflate() and #deflate(), calls you back via #deflatedReady() and #inflatedReady().
 * The chunk we get from deflater is actually a view of a 16kB arraybuffer, so we need to copy the relevant parts
 * memory to a new arraybuffer.
 */
function Compressor(inflatedReady, deflatedReady) {
  this.inflatedReady = inflatedReady;
  this.deflatedReady = deflatedReady;
  this._inflate = inflater(chunk => this.inflatedReady(chunk.buffer.slice(chunk.byteOffset, chunk.byteOffset + chunk.length)));
  this._deflate = deflater(chunk => this.deflatedReady(chunk.buffer.slice(chunk.byteOffset, chunk.byteOffset + chunk.length)));
}
Compressor.prototype.inflate = function (buffer) {
  this._inflate(new Uint8Array(buffer));
};
Compressor.prototype.deflate = function (buffer) {
  this._deflate(new Uint8Array(buffer));
};
function deflater(emit) {
  const stream = new _zstream.default();
  const status = (0, _deflate.deflateInit2)(stream, _constants.Z_DEFAULT_COMPRESSION, _constants.Z_DEFLATED, WINDOW_BITS, 8, _constants.Z_DEFAULT_STRATEGY);
  if (status !== _constants.Z_OK) {
    throw new Error('Problem initializing deflate stream: ' + _messages.default[status]);
  }
  return function (data) {
    if (data === undefined) return emit();

    // Attach the input data
    stream.input = data;
    stream.next_in = 0;
    stream.avail_in = stream.input.length;
    let status;
    let output;
    let start;
    let ret = true;
    do {
      // When the stream gets full, we need to create new space.
      if (stream.avail_out === 0) {
        stream.output = new Uint8Array(CHUNK_SIZE);
        start = stream.next_out = 0;
        stream.avail_out = CHUNK_SIZE;
      }

      // Perform the deflate
      status = (0, _deflate.deflate)(stream, _constants.Z_SYNC_FLUSH);
      if (status !== _constants.Z_STREAM_END && status !== _constants.Z_OK) {
        throw new Error('Deflate problem: ' + _messages.default[status]);
      }

      // If the output buffer got full, flush the data.
      if (stream.avail_out === 0 && stream.next_out > start) {
        output = stream.output.subarray(start, start = stream.next_out);
        ret = emit(output);
      }
    } while ((stream.avail_in > 0 || stream.avail_out === 0) && status !== _constants.Z_STREAM_END);

    // Emit whatever is left in output.
    if (stream.next_out > start) {
      output = stream.output.subarray(start, start = stream.next_out);
      ret = emit(output);
    }
    return ret;
  };
}
function inflater(emit) {
  const stream = new _zstream.default();
  const status = (0, _inflate.inflateInit2)(stream, WINDOW_BITS);
  if (status !== _constants.Z_OK) {
    throw new Error('Problem initializing inflate stream: ' + _messages.default[status]);
  }
  return function (data) {
    if (data === undefined) return emit();
    let start;
    stream.input = data;
    stream.next_in = 0;
    stream.avail_in = stream.input.length;
    let status, output;
    let ret = true;
    do {
      if (stream.avail_out === 0) {
        stream.output = new Uint8Array(CHUNK_SIZE);
        start = stream.next_out = 0;
        stream.avail_out = CHUNK_SIZE;
      }
      status = (0, _inflate.inflate)(stream, _constants.Z_NO_FLUSH);
      if (status !== _constants.Z_STREAM_END && status !== _constants.Z_OK) {
        throw new Error('inflate problem: ' + _messages.default[status]);
      }
      if (stream.next_out) {
        if (stream.avail_out === 0 || status === _constants.Z_STREAM_END) {
          output = stream.output.subarray(start, start = stream.next_out);
          ret = emit(output);
        }
      }
    } while (stream.avail_in > 0 && status !== _constants.Z_STREAM_END);
    if (stream.next_out > start) {
      output = stream.output.subarray(start, start = stream.next_out);
      ret = emit(output);
    }
    return ret;
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDSFVOS19TSVpFIiwiV0lORE9XX0JJVFMiLCJDb21wcmVzc29yIiwiaW5mbGF0ZWRSZWFkeSIsImRlZmxhdGVkUmVhZHkiLCJfaW5mbGF0ZSIsImluZmxhdGVyIiwiY2h1bmsiLCJidWZmZXIiLCJzbGljZSIsImJ5dGVPZmZzZXQiLCJsZW5ndGgiLCJfZGVmbGF0ZSIsImRlZmxhdGVyIiwicHJvdG90eXBlIiwiaW5mbGF0ZSIsIlVpbnQ4QXJyYXkiLCJkZWZsYXRlIiwiZW1pdCIsInN0cmVhbSIsIlpTdHJlYW0iLCJzdGF0dXMiLCJkZWZsYXRlSW5pdDIiLCJaX0RFRkFVTFRfQ09NUFJFU1NJT04iLCJaX0RFRkxBVEVEIiwiWl9ERUZBVUxUX1NUUkFURUdZIiwiWl9PSyIsIkVycm9yIiwibWVzc2FnZXMiLCJkYXRhIiwidW5kZWZpbmVkIiwiaW5wdXQiLCJuZXh0X2luIiwiYXZhaWxfaW4iLCJvdXRwdXQiLCJzdGFydCIsInJldCIsImF2YWlsX291dCIsIm5leHRfb3V0IiwiWl9TWU5DX0ZMVVNIIiwiWl9TVFJFQU1fRU5EIiwic3ViYXJyYXkiLCJpbmZsYXRlSW5pdDIiLCJaX05PX0ZMVVNIIl0sInNvdXJjZXMiOlsiLi4vc3JjL2NvbXByZXNzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBaU3RyZWFtIGZyb20gJ3Bha28vbGliL3psaWIvenN0cmVhbSdcbmltcG9ydCB7IGRlZmxhdGVJbml0MiwgZGVmbGF0ZSB9IGZyb20gJ3Bha28vbGliL3psaWIvZGVmbGF0ZSdcbmltcG9ydCB7IGluZmxhdGUsIGluZmxhdGVJbml0MiB9IGZyb20gJ3Bha28vbGliL3psaWIvaW5mbGF0ZSdcbmltcG9ydCBtZXNzYWdlcyBmcm9tICdwYWtvL2xpYi96bGliL21lc3NhZ2VzLmpzJ1xuaW1wb3J0IHtcbiAgWl9OT19GTFVTSCwgWl9TWU5DX0ZMVVNILCBaX09LLFxuICBaX1NUUkVBTV9FTkQsIFpfREVGQVVMVF9DT01QUkVTU0lPTixcbiAgWl9ERUZBVUxUX1NUUkFURUdZLCBaX0RFRkxBVEVEXG59IGZyb20gJ3Bha28vbGliL3psaWIvY29uc3RhbnRzJ1xuXG5jb25zdCBDSFVOS19TSVpFID0gMTYzODRcbmNvbnN0IFdJTkRPV19CSVRTID0gMTVcblxuLyoqXG4gKiBIYW5kbGVzIGRlLS9jb21wcmVzc2lvbiB2aWEgI2luZmxhdGUoKSBhbmQgI2RlZmxhdGUoKSwgY2FsbHMgeW91IGJhY2sgdmlhICNkZWZsYXRlZFJlYWR5KCkgYW5kICNpbmZsYXRlZFJlYWR5KCkuXG4gKiBUaGUgY2h1bmsgd2UgZ2V0IGZyb20gZGVmbGF0ZXIgaXMgYWN0dWFsbHkgYSB2aWV3IG9mIGEgMTZrQiBhcnJheWJ1ZmZlciwgc28gd2UgbmVlZCB0byBjb3B5IHRoZSByZWxldmFudCBwYXJ0c1xuICogbWVtb3J5IHRvIGEgbmV3IGFycmF5YnVmZmVyLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb21wcmVzc29yIChpbmZsYXRlZFJlYWR5LCBkZWZsYXRlZFJlYWR5KSB7XG4gIHRoaXMuaW5mbGF0ZWRSZWFkeSA9IGluZmxhdGVkUmVhZHlcbiAgdGhpcy5kZWZsYXRlZFJlYWR5ID0gZGVmbGF0ZWRSZWFkeVxuICB0aGlzLl9pbmZsYXRlID0gaW5mbGF0ZXIoY2h1bmsgPT4gdGhpcy5pbmZsYXRlZFJlYWR5KGNodW5rLmJ1ZmZlci5zbGljZShjaHVuay5ieXRlT2Zmc2V0LCBjaHVuay5ieXRlT2Zmc2V0ICsgY2h1bmsubGVuZ3RoKSkpXG4gIHRoaXMuX2RlZmxhdGUgPSBkZWZsYXRlcihjaHVuayA9PiB0aGlzLmRlZmxhdGVkUmVhZHkoY2h1bmsuYnVmZmVyLnNsaWNlKGNodW5rLmJ5dGVPZmZzZXQsIGNodW5rLmJ5dGVPZmZzZXQgKyBjaHVuay5sZW5ndGgpKSlcbn1cblxuQ29tcHJlc3Nvci5wcm90b3R5cGUuaW5mbGF0ZSA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgdGhpcy5faW5mbGF0ZShuZXcgVWludDhBcnJheShidWZmZXIpKVxufVxuXG5Db21wcmVzc29yLnByb3RvdHlwZS5kZWZsYXRlID0gZnVuY3Rpb24gKGJ1ZmZlcikge1xuICB0aGlzLl9kZWZsYXRlKG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpXG59XG5cbmZ1bmN0aW9uIGRlZmxhdGVyIChlbWl0KSB7XG4gIGNvbnN0IHN0cmVhbSA9IG5ldyBaU3RyZWFtKClcbiAgY29uc3Qgc3RhdHVzID0gZGVmbGF0ZUluaXQyKHN0cmVhbSwgWl9ERUZBVUxUX0NPTVBSRVNTSU9OLCBaX0RFRkxBVEVELCBXSU5ET1dfQklUUywgOCwgWl9ERUZBVUxUX1NUUkFURUdZKVxuICBpZiAoc3RhdHVzICE9PSBaX09LKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQcm9ibGVtIGluaXRpYWxpemluZyBkZWZsYXRlIHN0cmVhbTogJyArIG1lc3NhZ2VzW3N0YXR1c10pXG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZW1pdCgpXG5cbiAgICAvLyBBdHRhY2ggdGhlIGlucHV0IGRhdGFcbiAgICBzdHJlYW0uaW5wdXQgPSBkYXRhXG4gICAgc3RyZWFtLm5leHRfaW4gPSAwXG4gICAgc3RyZWFtLmF2YWlsX2luID0gc3RyZWFtLmlucHV0Lmxlbmd0aFxuXG4gICAgbGV0IHN0YXR1c1xuICAgIGxldCBvdXRwdXRcbiAgICBsZXQgc3RhcnRcbiAgICBsZXQgcmV0ID0gdHJ1ZVxuXG4gICAgZG8ge1xuICAgICAgLy8gV2hlbiB0aGUgc3RyZWFtIGdldHMgZnVsbCwgd2UgbmVlZCB0byBjcmVhdGUgbmV3IHNwYWNlLlxuICAgICAgaWYgKHN0cmVhbS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgc3RyZWFtLm91dHB1dCA9IG5ldyBVaW50OEFycmF5KENIVU5LX1NJWkUpXG4gICAgICAgIHN0YXJ0ID0gc3RyZWFtLm5leHRfb3V0ID0gMFxuICAgICAgICBzdHJlYW0uYXZhaWxfb3V0ID0gQ0hVTktfU0laRVxuICAgICAgfVxuXG4gICAgICAvLyBQZXJmb3JtIHRoZSBkZWZsYXRlXG4gICAgICBzdGF0dXMgPSBkZWZsYXRlKHN0cmVhbSwgWl9TWU5DX0ZMVVNIKVxuICAgICAgaWYgKHN0YXR1cyAhPT0gWl9TVFJFQU1fRU5EICYmIHN0YXR1cyAhPT0gWl9PSykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlZmxhdGUgcHJvYmxlbTogJyArIG1lc3NhZ2VzW3N0YXR1c10pXG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBvdXRwdXQgYnVmZmVyIGdvdCBmdWxsLCBmbHVzaCB0aGUgZGF0YS5cbiAgICAgIGlmIChzdHJlYW0uYXZhaWxfb3V0ID09PSAwICYmIHN0cmVhbS5uZXh0X291dCA+IHN0YXJ0KSB7XG4gICAgICAgIG91dHB1dCA9IHN0cmVhbS5vdXRwdXQuc3ViYXJyYXkoc3RhcnQsIHN0YXJ0ID0gc3RyZWFtLm5leHRfb3V0KVxuICAgICAgICByZXQgPSBlbWl0KG91dHB1dClcbiAgICAgIH1cbiAgICB9IHdoaWxlICgoc3RyZWFtLmF2YWlsX2luID4gMCB8fCBzdHJlYW0uYXZhaWxfb3V0ID09PSAwKSAmJiBzdGF0dXMgIT09IFpfU1RSRUFNX0VORClcblxuICAgIC8vIEVtaXQgd2hhdGV2ZXIgaXMgbGVmdCBpbiBvdXRwdXQuXG4gICAgaWYgKHN0cmVhbS5uZXh0X291dCA+IHN0YXJ0KSB7XG4gICAgICBvdXRwdXQgPSBzdHJlYW0ub3V0cHV0LnN1YmFycmF5KHN0YXJ0LCBzdGFydCA9IHN0cmVhbS5uZXh0X291dClcbiAgICAgIHJldCA9IGVtaXQob3V0cHV0KVxuICAgIH1cbiAgICByZXR1cm4gcmV0XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5mbGF0ZXIgKGVtaXQpIHtcbiAgY29uc3Qgc3RyZWFtID0gbmV3IFpTdHJlYW0oKVxuXG4gIGNvbnN0IHN0YXR1cyA9IGluZmxhdGVJbml0MihzdHJlYW0sIFdJTkRPV19CSVRTKVxuICBpZiAoc3RhdHVzICE9PSBaX09LKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQcm9ibGVtIGluaXRpYWxpemluZyBpbmZsYXRlIHN0cmVhbTogJyArIG1lc3NhZ2VzW3N0YXR1c10pXG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZW1pdCgpXG5cbiAgICBsZXQgc3RhcnRcbiAgICBzdHJlYW0uaW5wdXQgPSBkYXRhXG4gICAgc3RyZWFtLm5leHRfaW4gPSAwXG4gICAgc3RyZWFtLmF2YWlsX2luID0gc3RyZWFtLmlucHV0Lmxlbmd0aFxuXG4gICAgbGV0IHN0YXR1cywgb3V0cHV0XG4gICAgbGV0IHJldCA9IHRydWVcblxuICAgIGRvIHtcbiAgICAgIGlmIChzdHJlYW0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgIHN0cmVhbS5vdXRwdXQgPSBuZXcgVWludDhBcnJheShDSFVOS19TSVpFKVxuICAgICAgICBzdGFydCA9IHN0cmVhbS5uZXh0X291dCA9IDBcbiAgICAgICAgc3RyZWFtLmF2YWlsX291dCA9IENIVU5LX1NJWkVcbiAgICAgIH1cblxuICAgICAgc3RhdHVzID0gaW5mbGF0ZShzdHJlYW0sIFpfTk9fRkxVU0gpXG4gICAgICBpZiAoc3RhdHVzICE9PSBaX1NUUkVBTV9FTkQgJiYgc3RhdHVzICE9PSBaX09LKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW5mbGF0ZSBwcm9ibGVtOiAnICsgbWVzc2FnZXNbc3RhdHVzXSlcbiAgICAgIH1cblxuICAgICAgaWYgKHN0cmVhbS5uZXh0X291dCkge1xuICAgICAgICBpZiAoc3RyZWFtLmF2YWlsX291dCA9PT0gMCB8fCBzdGF0dXMgPT09IFpfU1RSRUFNX0VORCkge1xuICAgICAgICAgIG91dHB1dCA9IHN0cmVhbS5vdXRwdXQuc3ViYXJyYXkoc3RhcnQsIHN0YXJ0ID0gc3RyZWFtLm5leHRfb3V0KVxuICAgICAgICAgIHJldCA9IGVtaXQob3V0cHV0KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSB3aGlsZSAoKHN0cmVhbS5hdmFpbF9pbiA+IDApICYmIHN0YXR1cyAhPT0gWl9TVFJFQU1fRU5EKVxuXG4gICAgaWYgKHN0cmVhbS5uZXh0X291dCA+IHN0YXJ0KSB7XG4gICAgICBvdXRwdXQgPSBzdHJlYW0ub3V0cHV0LnN1YmFycmF5KHN0YXJ0LCBzdGFydCA9IHN0cmVhbS5uZXh0X291dClcbiAgICAgIHJldCA9IGVtaXQob3V0cHV0KVxuICAgIH1cblxuICAgIHJldHVybiByZXRcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSWdDO0FBRWhDLE1BQU1BLFVBQVUsR0FBRyxLQUFLO0FBQ3hCLE1BQU1DLFdBQVcsR0FBRyxFQUFFOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2UsU0FBU0MsVUFBVSxDQUFFQyxhQUFhLEVBQUVDLGFBQWEsRUFBRTtFQUNoRSxJQUFJLENBQUNELGFBQWEsR0FBR0EsYUFBYTtFQUNsQyxJQUFJLENBQUNDLGFBQWEsR0FBR0EsYUFBYTtFQUNsQyxJQUFJLENBQUNDLFFBQVEsR0FBR0MsUUFBUSxDQUFDQyxLQUFLLElBQUksSUFBSSxDQUFDSixhQUFhLENBQUNJLEtBQUssQ0FBQ0MsTUFBTSxDQUFDQyxLQUFLLENBQUNGLEtBQUssQ0FBQ0csVUFBVSxFQUFFSCxLQUFLLENBQUNHLFVBQVUsR0FBR0gsS0FBSyxDQUFDSSxNQUFNLENBQUMsQ0FBQyxDQUFDO0VBQzVILElBQUksQ0FBQ0MsUUFBUSxHQUFHQyxRQUFRLENBQUNOLEtBQUssSUFBSSxJQUFJLENBQUNILGFBQWEsQ0FBQ0csS0FBSyxDQUFDQyxNQUFNLENBQUNDLEtBQUssQ0FBQ0YsS0FBSyxDQUFDRyxVQUFVLEVBQUVILEtBQUssQ0FBQ0csVUFBVSxHQUFHSCxLQUFLLENBQUNJLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDOUg7QUFFQVQsVUFBVSxDQUFDWSxTQUFTLENBQUNDLE9BQU8sR0FBRyxVQUFVUCxNQUFNLEVBQUU7RUFDL0MsSUFBSSxDQUFDSCxRQUFRLENBQUMsSUFBSVcsVUFBVSxD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